<!DOCTYPE html>
<html>
  <head>
    <title>Colloation Viewer</title>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- main page styles -->

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.0/css/mdb.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap addons-->
    <link href="assets/bootstrap-material-design/css/addons/datatables.min.css" rel="stylesheet">

    <link rel="stylesheet" href="assets/app/css/theme.css">
    <link rel="stylesheet" href="assets/app/css/page.css">

    <!-- vue.js -->
    <script src="/node_modules/vue/dist/vue.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>


        <div class="py-4" style=""  id="app">
          <div class="container">

            <div class="row">
              <div class="col-12">
                <h2>고문헌 정량 분석</h2>
                <hr>
              </div>
            </div>

            <div class="form-group row">
              <label for="userparam" class="col-sm-2 col-form-label">분석 조건</label>
              <div class="col-sm-10">
                <input type="text" readonly class="form-control-plaintext" id="userparam" value="">
              </div>
            </div>

            <div class="row">
              <form action="" class="form-group col-sm-12">
              <label for="" class="col-sm-4 col-form-label">대상 텍스트</label>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="Treat" v-model="param.corpus">
                <label class="form-check-label" for="inlineRadio1">치료 텍스트</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="Raw" v-model="param.corpus">
                <label class="form-check-label" for="inlineRadio1">전체 텍스트</label>
              </div>
            </form>
            </div>

            <div class="row">
              <form action="" class="form-group col-sm-12">
              <label for="" class="col-sm-4 col-form-label">토큰 추출</label>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="DictSegmenter" v-model="param.model">
                <label class="form-check-label" for="inlineRadio1">DictSegmenter</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="ScoreSegmenter" v-model="param.model">
                <label class="form-check-label" for="inlineRadio1">ScoreSegmenter</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="NgramTokenizer" v-model="param.model">
                <label class="form-check-label" for="inlineRadio1">NgramTokenizer</label>
              </div>
              </form>
            </div>

            <div class="row">
              <form action="" class="form-group col-sm-12">
                <label for="" class="col-sm-4 col-form-label">Collocation Method </label>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="t_score" v-model="param.collocation_method">
                  <label class="form-check-label" for="inlineRadio1">T-Score</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="simple_ll" v-model="param.collocation_method">
                  <label class="form-check-label" for="inlineRadio1">Simple-LL</label>
                </div>
              </form>
            </div>


          <div class="row">
              <div class="col-12">
                <div class="form-group"><label>MAIN</label><input type="text" class="form-control form-control-lg" name="search-MAIN" v-model="param.search_pattern.MAIN"></div>
              </div>
            </div>

            <div class="row">
              <div class="col-12 col-md-6">
                <div class="form-group"><label>AND</label><input type="text" class="form-control" name="search-AND" v-model="param.search_pattern.AND"></div>
              </div>
              <div class="col-md-6">
                <div class="form-group"><label>NOT</label><input type="text" class="form-control" name="search-NOT" v-model="param.search_pattern.NOT"></div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-3">
                <div class="form-group"><label>Half Window Size</label><input type="number" class="form-control form-control-sm" v-model="param.half_window_size"></div>
              </div>
              <div class="col-md-3">
                <div class="form-group"><label>top n</label><input type="number" class="form-control form-control-sm" placeholder="100" name="top-n" v-model="param.top_n"></div>
              </div>
              <div class="col-md-3">
                <div class="form-group"><label>Ngram Range Min</label><input type="number" class="form-control form-control-sm" name="ngram-range-min" v-model="param.ngram_range[0]" ></div>
              </div>
              <div class="col-md-3">
                <div class="form-group"><label>Ngram Range Max</label><input type="number" class="form-control form-control-sm" name="ngram-range-max" v-model="param.ngram_range[1]"></div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-3"></div>
              <div class="col-md-3"></div>
              <div class="col-md-3">
                <button @click="sse_doit" type="submit" class="btn btn-info my-6">SSE Doit</button>
                <button @click="sse_reset" type="submit" class="btn btn-info my-6">SSE Reset</button>

              </div>
              <div class="col-md-3">

                <button @click="ajx_doit" type="submit" class="btn btn-info my-6">AJX Doit</button>
                <button @click="ajx_reset" type="submit" class="btn btn-info my-6">AJX Reset</button>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <ul class="nav nav-tabs">
                  <li class="nav-item">
                    <a class="nav-link" v-bind:class="{ active: tabfocus=='plot' }" @click="focusTab('plot')" >Plot</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" v-bind:class="{ active: tabfocus=='table' }" @click="focusTab('table')" >Table</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" v-bind:class="{ active: tabfocus=='query' }" @click="focusTab('query')" >Query</a>
                  </li>
                </ul>
              </div>
            </div>

            <div class="row" v-show="tabfocus=='plot'">
              <div class="col-md-12">
                  <scatter-chart ref="child1"
                    :data="coordinate"
                    :options="chartoptions">
                  </scatter-chart>
              </div>
            </div>


            <div class="row" v-show="tabfocus=='table'">
              <div class="col-md-12">

                  <table id="dtTable" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th v-for="colname in result.columns">{{colname}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="items in result.data">
                            <th v-for="value in items">{{value}}</th>
                        </tr>
                    </tbody>
                  </tbody>
                  <!-- <tfoot>
                    <tr>
                        <th v-for="colname in result.columns">{{colname}}</th>
                    </tr>
                  </tfoot> -->
                </table>

              </div>
            </div>

            <div class="row" v-show="tabfocus=='query'">
              <div class="col-md-12">
                <textarea class="form-control" rows="20">
# USER PARAMS
----------------
corpus: {{param.corpus}}
model: {{param.model}}
search_pattern:
  MAIN: {{param.search_pattern.MAIN}}
  AND: {{param.search_pattern.AND}}
  NOT: {{param.search_pattern.NOT}}
min_tf: {{ param.min_tf }}
collocation_method: {{ param.collocation_method }}
top_n: {{ param.top_n }}
## options:
half_window_size: {{ param.half_window_size }}
ngram_range: [{{param.ngram_range[0]}},{{param.ngram_range[1]}}]
--------------
{{coordinate}}
                </textarea>
              </div>
            </div>


          </div>
        </div>

        <!-- for bootstrap -->
        <!-- JQuery -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
        <!-- Bootstrap tooltips -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
        <!-- Bootstrap core JavaScript -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <!-- MDB core JavaScript -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.0/js/mdb.min.js"></script>
        <!-- MDB addons-->
        <script type="text/javascript" src="assets/bootstrap-material-design/js/addons/datatables.min.js"></script>

        <!-- Vue-Chart -->
        <script src="assets/vue-chart/js/Chart.min.js"></script>
        <script src="assets/vue-chart/js/vue-chartjs.min.js"></script>

        <!-- app.js -->
        <script src="assets/app/js/app.js"></script>

  </body>
</html>
